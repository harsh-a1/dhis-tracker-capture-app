<form name="outerDataEntryForm" novalidate class="remove-default-padding">
    <table class="dhis2-list-table-striped default-form-table" ng-if='currentEvent && !currentStage.programStageSections.length'>
        <tr ng-repeat="prStDe in currentStage.programStageDataElements" ng-if="!isHidden(prStDe.dataElement.id, currentEvent)">
            <td>
                <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details'| translate}}" content="prStDe.dataElement"
                    template="dataelement-details.html" trigger="click" placement="right">
                    <a href title="{{'details'| translate}}" class="wrap-text" tabindex="-1">{{prStDe.dataElement.displayFormName}}</a>
                </span>
                <span class="not-for-screen">
                    {{prStDe.dataElement.displayFormName}}
                </span>
                <span ng-if="prStDe.compulsory" class="required">*</span>
                <span class="hideInPrint">
                    <span ng-if="otherValuesLists[prStDe.dataElement.id]" ng-repeat="altValue in otherValuesLists[prStDe.dataElement.id] track by $index">
                        <span class="label label-default">{{altValue | translate}}</span>
                    </span>
                </span>
            </td>
            <td class="absorbing-column" dhis2-compiled-include="components/dataentry/inner-form.html">
            </td>
            <td ng-if="allowProvidedElsewhereExists[currentStage.id]">
                <div class="align-center" ng-show="prStDe.allowProvidedElsewhere">
                    <span>
                        <input type="checkbox" class="form-control-checkbox" ng-model="currentEvent.providedElsewhere[prStDe.dataElement.id]" ng-disabled="selectedOrgUnit.closedStatus || selectedEnrollment.status !== 'ACTIVE' || currentEvent.editingNotAllowed"
                            ng-change="saveDatavalueLocation(prStDe)" />
                    </span>
                </div>
            </td>
        </tr>
    </table>
    <div ng-if='currentEvent && currentStage.programStageSections.length'>
        <accordion close-others='false'>
            <!-- The inline style was needed to override overflow:hidden in the css. Can possibly be replaced with a CSS update. -->
            <accordion-group is-open="section.open" ng-repeat="section in currentStage.programStageSections | orderBy: 'sortOrder'" ng-if="!hiddenSections[currentEvent.event][section.id]"
                style="overflow:visible">
                <accordion-heading>
                    {{section.displayName}}
                </accordion-heading>
                <div class="alert alert-info" ng-if="section.description">
                    {{section.description}}
                </div>
                <div class="vertical-spacing" ng-if="!section.dataElements || section.dataElements.length === 0">
                    <div class="alert alert-warning">{{'section'| translate}} {{section.displayName}} {{'has_no_dataelements'| translate}}</div>
                </div>

                <div class="row">
                    <!-- *********************************************************************************************************************************************** -->
                    <!-- Start of left plam Desgin  Format -->
                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'j1u6ase0X3G'" style="text-align:center">
                        <tr>
                            <td ng-if="section.id == 'j1u6ase0X3G'" ng-init="pointerLocation()">
                                <div class="lefthandContainer" ng-click="show($event)">

                                </div>
                            </td>

                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: right;">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details'| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details'| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{"name":"{{"description" | translate}}", "data":"{{prStDes[de.id].dataElement.description}}"}]'>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white; text-align: left">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <!-- End of Left Plam Desgin Format -->

                    <!-- ************************************************************************************************************************************************* -->

                    <!-- Right Plam Design format -->
                    <!-- QSl2krdBWLO -->
                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'QSl2krdBWLO'" style="text-align:center">
                        <tr>
                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: right">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details'| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details'| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{"name":"{{"description" | translate}}", "data":"{{prStDes[de.id].dataElement.description}}"}]'>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white; text-align: left;">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td ng-if="section.id == 'QSl2krdBWLO'" ng-init="pointerLocation()">
                                <div class="righthandContainer">

                                </div>
                            </td>

                        </tr>
                    </table>
                    <!-- End of right Plam desgin Format -->

                    <!-- ************************************************************************************************************************************************* -->

                    <!-- Design Format for left sole  -->
                    <!-- "JRDmB5WCYbJ" -->
                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'JRDmB5WCYbJ'" style="text-align:center">
                        <tr>

                            <td ng-if="section.id == 'JRDmB5WCYbJ'" ng-init="pointerLocation()">
                                <div class="leftsoleContainer">
                                </div>
                            </td>

                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: right">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details '| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details '| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{
                                        "name": "{{"description " | translate}}", "data":
                                        "{{prStDes[de.id].dataElement.description}}"}] '>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: left">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <!-- End of design format for left sole -->


                    <!-- Degin format for right sole -->
                    <!-- c2QJ8q8xPDI -->
                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'c2QJ8q8xPDI'" style="text-align:center">
                        <tr>

                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: right">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details '| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details '| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{
                                        "name": "{{"description " | translate}}", "data":
                                        "{{prStDes[de.id].dataElement.description}}"}] '>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: left">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td ng-if="section.id == 'c2QJ8q8xPDI'" ng-init="pointerLocation()">
                                <div class="rightsoleContainer">
                                </div>
                            </td>
                        </tr>
                    </table>

                    <!-- End of Design format for right sole -->




                    <!-- Design For left Eye -->

                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'GRwzAqiTye8'" style="text-align:center">
                        <tr>

                            <td ng-if="section.id == 'GRwzAqiTye8'" ng-init="pointerLocation()">
                                <div class="leftEyeContainer">
                                </div>
                            </td>

                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: right;">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details '| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details '| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{
                                        "name": "{{"description " | translate}}", "data":
                                        "{{prStDes[de.id].dataElement.description}}"}] '>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: left;">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <!--End of design for left Eye-->

                    <table ng-if="currentStage.id == 'gAkjKEitHrU' && section.id == 'PppoXWwOWi1'" style="text-align:center">
                        <tr>

                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white; text-align: right">
                                            <Strong>Disability </Strong>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td>
                                            <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details '| translate}}" content="prStDes[de.id].dataElement"
                                                template="dataelement-details.html" trigger="click" placement="right">
                                                <a href title="{{'details '| translate}}" class="wrap-text" tabindex="-1">
                                                    <strong>{{prStDes[de.id].dataElement.displayFormName}}</strong>
                                                </a>
                                            </span>
                                            <span class="not-for-screen">
                                                {{prStDes[de.id].dataElement.displayFormName}}
                                            </span>
                                            <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                            <span class="hideInPrint">
                                                <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{
                                        "name": "{{"description " | translate}}", "data":
                                        "{{prStDes[de.id].dataElement.description}}"}] '>
                                                </d2-info>
                                                <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                                    <span class="label label-default">{{altValue | translate}}</span>
                                                </span>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </td>


                            <td style="padding: 0%">
                                <table class="dhis2-list-table-striped default-form-table" style="text-align:center" ng-if="section.dataElements && section.dataElements.length > 0">
                                    <tr>
                                        <td style="background:#276696; color:white;text-align: left;">
                                            <Strong>Status</Strong>
                                        </td>
                                    </tr>
                                    <tr class="{{section.id + 1}}" ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id) && $index < 8">
                                        <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                            <p ng-init></p>
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td ng-if="section.id == 'PppoXWwOWi1'" ng-init="pointerLocation()">
                                <div class="rightEyeContainer">
                                </div>
                            </td>
                        </tr>
                    </table>

                    <!-- Design For Right Eye -->

                    <!-- End of Design For Right Eye  -->






                    <!-- For Default form -->
                    <div ng-if="section.id != 'j1u6ase0X3G' && section.id != 'QSl2krdBWLO' && section.id != 'JRDmB5WCYbJ' && section.id  != 'c2QJ8q8xPDI' && section.id != 'GRwzAqiTye8' && section.id != 'PppoXWwOWi1'">
                        <table class="dhis2-list-table-striped default-form-table" ng-if="section.dataElements && section.dataElements.length > 0">
                            <tr ng-repeat="de in section.dataElements" ng-if="!isHidden(de.id)">
                                <td>
                                    <span d2-pop-over class="popover-label hideInPrint small-horizontal-spacing" details="{{'details '| translate}}" content="prStDes[de.id].dataElement"
                                        template="dataelement-details.html" trigger="click" placement="right">
                                        <a href title="{{'details '| translate}}" class="wrap-text" tabindex="-1">{{prStDes[de.id].dataElement.displayFormName}}</a>
                                    </span>
                                    <span class="not-for-screen">
                                        {{prStDes[de.id].dataElement.displayFormName}}
                                    </span>
                                    <span ng-if="prStDes[de.id].compulsory" class="required">*</span>
                                    <span class="hideInPrint">
                                        <d2-info ng-if="prStDes[de.id].dataElement.description" data-content='[{ "name":
                                        "{{"description " | translate}}", "data": "{{prStDes[de.id].dataElement.description}}"}]
                                        '>
                                        </d2-info>
                                        <span ng-if="otherValuesLists[de.id] && showOtherValuesLists" ng-repeat="altValue in otherValuesLists[de.id]">
                                            <span class="label label-default">{{altValue | translate}}</span>
                                        </span>
                                    </span>
                                </td>
                                <td class="absorbing-column" dhis2-compiled-include="components/dataentry/section-inner-form.html">
                                </td>
                                <td ng-if="allowProvidedElsewhereExists[currentStage.id]">
                                    <div class="align-center" ng-show="prStDes[de.id].allowProvidedElsewhere">
                                        <input type="checkbox" class="form-control-checkbox" ng-model="currentEvent.providedElsewhere[prStDes[de.id].dataElement.id]"
                                            ng-disabled="selectedOrgUnit.closedStatus || selectedEnrollment.status !== 'ACTIVE ' || currentEvent.editingNotAllowed"
                                            ng-change="saveDatavalueLocation(prStDes[de.id])" />
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>


                </div>

            </accordion-group>
        </accordion>
    </div>

</form>

<script>
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
        console.log(data);
    }

</script>